<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚ù§Ô∏è heartBeats ¬∑ live counter</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            user-select: none;
        }

        body {
            background: linear-gradient(145deg, #1a1e2f 0%, #232838 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
            margin: 0;
            padding: 16px;
        }

        .card {
            background: rgba(18, 22, 40, 0.75);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 56px;
            border: 1px solid rgba(255, 107, 139, 0.25);
            box-shadow: 0 30px 60px -10px rgba(0, 0, 0, 0.6), 0 0 0 1px rgba(255, 120, 150, 0.2) inset;
            padding: 32px 28px;
            width: 420px;
            max-width: 100%;
            transition: box-shadow 0.2s;
        }

        .card:hover {
            box-shadow: 0 40px 70px -8px #ff3b5c30, 0 0 0 1px #ff8da1 inset;
        }

        .heart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 8px;
        }

        .title-section {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .heart-pulse-icon {
            font-size: 2.2rem;
            line-height: 1;
            filter: drop-shadow(0 0 6px #ff4d6d);
            animation: subtle-glow 1.8s infinite alternate;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 500;
            letter-spacing: -0.5px;
            background: linear-gradient(130deg, #ffe0e6, #ffb6c1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 2px 5px #ff4d6d30;
        }

        .live-badge {
            background: #ff3b5c;
            color: white;
            padding: 6px 14px;
            border-radius: 100px;
            font-size: 0.8rem;
            font-weight: 600;
            letter-spacing: 0.4px;
            text-transform: uppercase;
            box-shadow: 0 0 15px #ff3b5c;
            border: 1px solid #ffb0c0;
        }

        .display-area {
            background: #0f121f;
            border-radius: 48px;
            padding: 32px 20px 28px 20px;
            margin-bottom: 28px;
            border: 1px solid #2f354a;
            box-shadow: inset 0 8px 12px #00000040, 0 20px 30px -12px #000000cc;
        }

        .bpm-container {
            display: flex;
            align-items: baseline;
            justify-content: center;
            gap: 8px;
            margin-bottom: 16px;
        }

        .bpm-number {
            font-size: 5.8rem;
            font-weight: 700;
            background: linear-gradient(140deg, #ffffff, #ffe2e8);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1;
            text-shadow: 0 0 30px #ff4f75, 0 0 10px #ff8ca0;
            transition: all 0.1s ease;
            font-variant-numeric: tabular-nums;
            letter-spacing: -2px;
        }

        .bpm-unit {
            font-size: 1.8rem;
            font-weight: 400;
            color: #9fa5c0;
            margin-left: 6px;
        }

        .heart-shape {
            font-size: 5rem;
            text-align: center;
            line-height: 1;
            filter: drop-shadow(0 8px 12px #500);
            transform: scale(1);
            transition: transform 0.15s cubic-bezier(0.18, 1.3, 0.6, 1);
        }

        .heart-shape.beat {
            transform: scale(1.2);
            filter: drop-shadow(0 0 20px #ff3b5c);
        }

        .beats-counter-label {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin: 28px 10px 16px 10px;
            color: #b9c2dd;
            font-weight: 400;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 1px;
        }

        .total-beats {
            font-size: 2.2rem;
            font-weight: 600;
            background: linear-gradient(120deg, #f4e9ff, #d9d0ff);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-variant-numeric: tabular-nums;
        }

        .progress-bar-bg {
            background: #1e2338;
            height: 16px;
            border-radius: 200px;
            margin: 10px 0 22px 0;
            overflow: hidden;
            border: 1px solid #3d405b;
        }

        .progress-fill {
            width: 0%;
            height: 100%;
            background: linear-gradient(90deg, #ff758f, #ff3b5c, #ff6f91);
            border-radius: 200px;
            box-shadow: 0 0 20px #ff3b5c;
            transition: width 0.3s ease;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin: 28px 0 10px;
        }

        button {
            background: #282f4a;
            border: 1px solid #4c5370;
            color: #f0dde2;
            font-size: 1.3rem;
            padding: 14px 0;
            border-radius: 60px;
            width: 100px;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            cursor: pointer;
            backdrop-filter: blur(8px);
            transition: 0.15s;
            box-shadow: 0 6px 0 #121624, 0 8px 16px #00000070;
        }

        button:active {
            transform: translateY(6px);
            box-shadow: 0 0 0 #121624, 0 5px 10px #00000070;
        }

        .reset-btn {
            background: #392e3e;
            border-color: #a55b75;
            color: #ffcfd6;
            width: 80px;
            font-size: 1.1rem;
        }

        .reset-btn:active {
            background: #4f3543;
        }

        .footer-note {
            text-align: center;
            margin-top: 20px;
            color: #6a7090;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .footer-note span {
            width: 8px;
            height: 8px;
            background: #5fcb7a;
            border-radius: 50%;
            box-shadow: 0 0 10px #42f57b;
        }

        @keyframes subtle-glow {
            0% { text-shadow: 0 0 4px #ffb0c0; }
            100% { text-shadow: 0 0 12px #ff4d6d, 0 0 25px #ff1654; }
        }
    </style>
</head>
<body>
    <div class="card">
        <div class="heart-header">
            <div class="title-section">
                <span class="heart-pulse-icon">‚ù§Ô∏è‚Äçüî•</span>
                <h2>beatCount</h2>
            </div>
            <div class="live-badge">LIVE</div>
        </div>

        <div class="display-area">
            <div class="bpm-container">
                <span class="bpm-number" id="bpmValue">72</span>
                <span class="bpm-unit">BPM</span>
            </div>

            <!-- pulsating heart -->
            <div class="heart-shape" id="heartIcon">ü´Ä‚ù§Ô∏è</div> <!-- double symbol for richer beat effect -->
        </div>

        <!-- total heart beats counter -->
        <div class="beats-counter-label">
            <span>‚ù§Ô∏è total beats</span>
            <span class="total-beats" id="totalBeatsDisplay">0</span>
        </div>

        <!-- visual progress (beats per minute intensity) -->
        <div class="progress-bar-bg">
            <div class="progress-fill" id="beatProgress" style="width: 46%;"></div>
        </div>

        <!-- controls -->
        <div class="controls">
            <button id="beatBtn"><span>‚ù§Ô∏è</span> BEAT</button>
            <button id="addBpmBtn"><span>‚ö°</span> +5</button>
            <button class="reset-btn" id="resetBtn"><span>‚ü≤</span> reset</button>
        </div>

        <div class="footer-note">
            <span></span>
            <span id="rateInfo">every beat counts</span>
            <span></span>
        </div>
    </div>

    <script>
        (function() {
            // ---------- state ----------
            let currentBpm = 72;               // beats per minute (simulated)
            let totalBeats = 0;                 // total heart beats accumulated
            let lastBeatTime = Date.now();
            let beatTimer = null;                // interval for automatic beats based on BPM
            const minBpm = 30;
            const maxBpm = 180;

            // DOM elements
            const bpmSpan = document.getElementById('bpmValue');
            const heartDiv = document.getElementById('heartIcon');
            const totalSpan = document.getElementById('totalBeatsDisplay');
            const progressFill = document.getElementById('beatProgress');
            const rateInfoSpan = document.getElementById('rateInfo');

            // helper: clamp BPM
            function clampBpm(value) {
                return Math.min(maxBpm, Math.max(minBpm, value));
            }

            // update UI: BPM number, progress, rate description
            function refreshBpmUi() {
                bpmSpan.textContent = currentBpm;

                // progress % (relative to range 30-180 BPM)
                const percent = ((currentBpm - minBpm) / (maxBpm - minBpm)) * 100;
                progressFill.style.width = percent + '%';

                // update subtitle info
                if (currentBpm < 50) rateInfoSpan.innerText = 'üí§ resting rate';
                else if (currentBpm < 90) rateInfoSpan.innerText = '‚ú® normal rhythm';
                else if (currentBpm < 130) rateInfoSpan.innerText = 'üèÉ active cardio';
                else rateInfoSpan.innerText = 'üî• high intensity';
            }

            // update total beats counter
            function refreshTotalUi() {
                totalSpan.textContent = totalBeats;
            }

            // beat animation & increment total
            function performBeat() {
                // increment total beats
                totalBeats += 1;
                refreshTotalUi();

                // animate heart
                heartDiv.classList.add('beat');
                setTimeout(() => {
                    heartDiv.classList.remove('beat');
                }, 150);

                // (optional) tiny haptic feedback / time update
                lastBeatTime = Date.now();
            }

            // reschedule the automatic interval based on current BPM
            function rescheduleBeatInterval() {
                if (beatTimer) {
                    clearInterval(beatTimer);
                    beatTimer = null;
                }

                // beats per minute ‚Üí interval in milliseconds
                // 60 000 ms / BPM = ms per beat
                let intervalMs = 60000 / currentBpm;

                // sanity: avoid extreme intervals (less than 100ms = 600 bpm, but we clamp)
                if (intervalMs < 80) intervalMs = 80;   // just in case, though bpm max 180 -> 333ms

                beatTimer = setInterval(() => {
                    performBeat();
                }, intervalMs);
            }

            // change BPM (delta) and update everything
            function adjustBpm(delta) {
                const newBpm = clampBpm(currentBpm + delta);
                if (newBpm === currentBpm) return; // no change
                currentBpm = newBpm;
                refreshBpmUi();

                // reschedule automatic beats with new BPM
                rescheduleBeatInterval();
            }

            // reset total beats to zero
            function resetTotalBeats() {
                totalBeats = 0;
                refreshTotalUi();
                // small extra visual feedback
                rateInfoSpan.innerText = 'reset ‚ú®';
                setTimeout(() => refreshBpmUi(), 200);  // restore message after 200ms
            }

            // set BPM to exact value (used by reset maybe, but not needed)
            // we only use adjust

            // ---------- event listeners ----------
            document.getElementById('beatBtn').addEventListener('click', () => {
                performBeat();   // manual beat also increments total
                // extra: tiny wiggle on bpm? no, just beat
            });

            document.getElementById('addBpmBtn').addEventListener('click', () => {
                adjustBpm(5);
            });

            document.getElementById('resetBtn').addEventListener('click', () => {
                resetTotalBeats();
                // (optional) also set BPM to a default 72? reset only total by spec, but we can leave bpm untouched
                // but some might expect also BPM reset? We'll make it reset total only, but add shift+feel:
                // give a little flicker: if you want you can also reset to 72 by double clicking, but not needed.
                // but many 'reset' in such demos reset both. For safety, we reset BPM to 72 as well for better UX.
                // Actually we want "reset" to bring to initial state: total = 0, BPM = 72.
                currentBpm = 72;
                refreshBpmUi();
                rescheduleBeatInterval();
                // total already set to 0 by resetTotalBeats, but we call again
                totalBeats = 0;
                refreshTotalUi();
            });

            // initial setup
            refreshBpmUi();
            refreshTotalUi();
            rescheduleBeatInterval();

            // clean up on page unload (good practice)
            window.addEventListener('beforeunload', function() {
                if (beatTimer) clearInterval(beatTimer);
            });

            // optional: tiny extra, allow pressing +5 from keyboard (just fun)
            // (not required, but harmless)
        })();
    </script>
</body>
</html>